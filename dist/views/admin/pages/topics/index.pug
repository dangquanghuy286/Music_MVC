extends ../../layouts/default.pug

block main
  h1.mb-4 #{title}
  
  .card.mb-3
    .card-header Danh sách
    .card-body
      .row
        .col-8
          
        .col-4.text-right
          a.btn.btn-outline-success(
            href=`/${prefixAdmin}/topics/create`
          ) Thêm mới
    
      .table-responsive.mt-4
        table.table.table-hover.table-sm
          thead
            tr
              th STT
              th Hình ảnh
              th Tiêu đề
              th Trạng thái
              th Hành động
          tbody
            if topics.length
              each topic, index in topics
                tr
                  td #{index + 1}
                  td
                    img(
                      src=topic.avatar
                      alt=topic.title
                      style="width: 80px; height: 60px; object-fit: cover; border-radius: 4px;"
                    )
                  td
                    strong #{topic.title}
                  td
                    if topic.status === "active"
                      span.badge.badge-success Hoạt động
                    else
                      span.badge.badge-secondary Không hoạt động
                  td
                    .btn-group(role="group")
                      a.btn.btn-outline-info.btn-sm(
                        href=`/${prefixAdmin}/topics/detail/${topic._id}`
                        title="Chi tiết"
                      ) Chi tiết
                      a.btn.btn-outline-warning.btn-sm(
                        href=`/${prefixAdmin}/topics/edit/${topic._id}`
                        title="Sửa"
                      ) Sửa
                      button.btn.btn-outline-danger.btn-sm(
                        type="button"
                        title="Xóa"
                        data-toggle="modal"
                        data-target="#deleteModal"
                        data-id=topic._id
                      ) Xóa
            else
              tr
                td.text-center(colspan="5") Chưa có topic nào
